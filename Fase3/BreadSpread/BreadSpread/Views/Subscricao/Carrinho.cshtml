@using BreadSpread.Models
@model IEnumerable<BreadSpread.Models.Encomenda>

@{
    ViewBag.Title = "Carrinho";
    ViewBag.Total = 0.0f;
    Layout = null;

}

<!DOCTYPE html>
<!-- saved from url=(0051)https://getbootstrap.com/docs/4.0/examples/pricing/ -->
<html lang="pt">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">
    <link href="/images/logo.png" rel="icon">
    <title>Produtos</title>
    <!-- Bootstrap core CSS
    <link href="./bootstrap_files/bootstrap.min.css" rel="stylesheet">-->
    <!--using online bootstrap-->
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/Content/main.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
</head>
<body cz-shortcut-listen="true">
    <!-- NAVBAR -->
    <div class="fixed-top d-flex flex-column flex-sm-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow justify-content-between">
        <h5 class="my-0 font-weight-normal">
            <a href="/Views/Home/Index.cshtml" class="text-dark">
                BreadSpread
            </a>
        </h5>
        <nav class="my-2 my-md-0 ">
            <a class="p-2 text-dark" href="produtos.html">
                Produtos
            </a>
            <a class="p-2 text-dark" href="/Views/Subscricao/Index.cshtml">
                Serviços
            </a>
            <a class="p-2 text-dark" href="comofunciona.html">
                Como Funciona
            </a>
            <a class="dropdown">
                <a aria-haspopup="true" class="p-2 text-dark dropdown-toggle" data-toggle="dropdown" href="#" id="dropdownMenuButton">
                    Conta
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#">
                        Perfil Utilizador
                    </a>
                    <a class="dropdown-item" href="/Views/Subscricao/Carrinho.cshtml">
                        Carrinho de Compras
                    </a>
                    <a class="divider"></a>
                    <a class="dropdown-item" href="index.html">
                        Logout
                    </a>
                </div>
            </a>
            <!-- this is the cart-->
            <i class="fa fa-shopping-cart ml-2"></i>
            <a class="text-dark " href="cart.html">
                3.24€
            </a>
        </nav>
        <!--<a class="btn btn-outline-primary" href="login.html">Login</a>-->
    </div>
    <!-- NAVBAR END -->

    <div class="container pt-5">
        <table id="cart" class="table table-hover table-condensed">
            <thead>
                <tr>
                    <th style="width:50%">Produto</th>
                    <th style="width:10%">Preço</th>
                    <th style="width:8%">Quantidade</th>
                    <th style="width:22%" class="text-center">Subtotal</th>
                    <th style="width:10%"></th>
                </tr>
            </thead>
            <tbody>
                @using (Html.BeginForm("Finalizar", "Subscricao", FormMethod.Post))
                {
                    @Html.AntiForgeryToken()
                    foreach (var item in (List<Tuple<int, String, float, int>>)Session["Carrinho"])
                    {
                        
                    <tr>
                        <td data-th="Product">
                            <div class="row">
                                <div class="col-sm-2 hidden-xs"></div>
                                <div class="col-sm-10">
                                    <h4 class="nomargin">@Html.DisplayFor(modelItem => item.Item2)</h4>
                                </div>
                            </div>
                        </td>
                        <td data-th="Price">@item.Item3€</td>
                        <td data-th="Quantity">
                            <input type="number" class="form-control text-center" value="@item.Item4">
                        </td>
                        <td data-th="Subtotal" class="text-center">@(item.Item3 * item.Item4)€</td>
                        <td class="actions" data-th="">
                            <button class="btn btn-primary btn-sm"><i class="fa fa-refresh"></i></button>
                            <button class="btn btn-danger btn-sm"><i class="fa fa-trash-o"></i></button>
                        </td>
                    </tr>
                    }
                }
            </tbody>
            <tfoot>
                <tr>
                    <td><button class="btn btn-warning" type="button"><i class="fa fa-angle-left"></i> Continuar compras</button></td>
                    <td colspan="2" class="hidden-xs"></td>
                    <td class="hidden-xs text-center"><strong>Total @((float)Session["Total"])€</strong></td>
                    <td><button class="btn btn-lg btn-block btn-primary" type="button">Finalizar <i class="fa fa-angle-right"></i></button></td>
                </tr>
            </tfoot>
        </table>
    </div>




    <!--            FOOTER            -->
    <div class="container">
        <footer class="pt-4 my-md-5 pt-md-5 border-top">
            <div class="row mb-3">
                <div class="col-12 col-sm-12 col-md-3">
                    <img alt="" class="mb-2" height="24" src="/images/logo.png" width="24">
                    <small class="d-block mb-3 text-muted">
                        © LI4G20
                    </small>
                </div>
                <div class="col-12 col-sm-6 col-md-5">
                    <h5>
                        Contactos
                    </h5>
                    <ul class="list-unstyled text-small">
                        <li>
                            <a class="text-muted">
                                253 604 448
                            </a>
                        </li>
                        <a class="text-muted" href="mailto:geral@breadspread.pt">
                            geral@breadspread.pt
                        </a>
                    </ul>
                </div>
                <div class="col-12 col-sm-6 col-md-4">
                    <h5>
                        Como funciona
                    </h5>
                    <ul class="list-unstyled text-small">
                        <li>
                            <a class="text-muted" href="/Views/Subscricao/Index.cshtml">
                                Subscrições
                            </a>
                        </li>
                        <li>
                            <a class="text-muted" href="comofunciona.html">
                                Entregas ocasionais
                            </a>
                        </li>
                        <li>
                            <a class="text-muted" href="comofunciona.html">
                                Cancelar encomendas
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </footer>
    </div>
    <script crossorigin="anonymous" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" src="https://code.jquery.com/jquery-3.2.1.slim.min.js">
    </script>
    <script crossorigin="anonymous" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js">
    </script>
    <script crossorigin="anonymous" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js">
    </script>
</body>
</html>